<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Жека Твинк - Проверенные казино</title>
    <meta name="description" content="Список проверенных казино" />
    <style>
        /* ================== Стили (темная тема с золотом) ================== */
        :root{
          --body-bg1:#1a1a1a;
          --body-bg2:#2d2d2d;
          --wood:#d4af37;
          --accent:#b8860b;
          --muted:#c0c0c0;
          --card-bg:#2a2a2a;
          --coupon:#3a3a3a;
          --shadow: rgba(0,0,0,0.5);
          --maxw:1200px;
          --success-green: #4CAF50;
        }

        *{box-sizing:border-box; margin:0; padding:0;}
        html,body{
          font-family: Inter, "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
          color:var(--muted);
        }
        body{
          background: linear-gradient(180deg,var(--body-bg1),var(--body-bg2));
          min-height: 100vh;
          overflow-x: hidden;
          position: relative;
          display: flex;
          flex-direction: column;
        }

        /* Лоадер */
        #loader {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: var(--body-bg1);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 9999;
          transition: opacity 0.5s ease;
        }
        
        .loader-content {
          text-align: center;
        }
        
        .loader-spinner {
          width: 60px;
          height: 60px;
          border: 5px solid rgba(212, 175, 55, 0.3);
          border-top: 5px solid var(--wood);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin: 0 auto 20px;
        }
        
        .loader-text {
          color: var(--wood);
          font-size: 18px;
          font-weight: 600;
        }
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        body.loaded #loader {
          opacity: 0;
          pointer-events: none;
        }

        /* Фон с золотыми цепями */
        .chain-bg {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          z-index: 0;
          opacity: 0.1;
          background-image: 
            radial-gradient(circle at 25% 25%, var(--wood) 2px, transparent 2px),
            radial-gradient(circle at 75% 75%, var(--wood) 2px, transparent 2px);
          background-size: 100px 100px;
        }

        /* главный контейнер */
        .container{
          width:100%;
          max-width:var(--maxw);
          margin: 0 auto;
          padding: 30px 20px;
          position: relative;
          z-index: 2;
          flex: 1;
        }

        /* header */
        header{text-align:center;margin-bottom:30px;padding:0 20px;}
        header h1{font-size:42px;color:var(--wood);margin-bottom:10px;text-shadow: 0 0 15px rgba(212,175,55,0.4);letter-spacing: 1px;}
        header .subtitle{color:var(--muted);font-size:16px;max-width:600px;margin:0 auto;}

        /* Кнопки действий */
        #action-buttons {
          display: flex;
          gap: 20px;
          justify-content: center;
          align-items: center;
          margin-bottom: 30px;
          flex-wrap: wrap;
          padding: 0 20px;
        }

        /* search + categories */
        #search-section{display:flex;flex-direction:column;align-items:center;gap:15px;margin-bottom:30px;padding:0 20px;}
        #searchInput{
          width:100%;max-width:500px;padding:12px 20px;border-radius:12px;border:2px solid var(--wood);font-size:16px;
          background: #333;
          color: var(--muted);
          box-shadow: inset 0 2px 8px rgba(0,0,0,0.3), 0 4px 12px rgba(0,0,0,0.2);
          transition: all 0.3s ease;
        }
        #searchInput:focus{outline:none;border-color:#ffd700;box-shadow:0 0 15px rgba(212,175,55,0.3);}
        #categoryButtons{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:10px;}
        .cat-btn{
          background: #333; border:2px solid var(--wood);
          padding:10px 18px;border-radius:25px;color:var(--muted);cursor:pointer;font-weight:600;
          transition: all 0.3s ease;
          font-size:14px;
        }
        .cat-btn:hover{background:#3a3a3a;transform:translateY(-2px);}
        .cat-btn.active{ background: var(--wood); color:#1a1a1a; box-shadow:0 8px 20px rgba(212,175,55,0.4); transform:translateY(-2px); }

        /* grid карточек - 4 колонки */
        .casino-grid{
          display:grid;
          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
          gap:25px;
          margin-bottom:40px;
          padding:0 10px;
        }

        /* карточка */
        .casino-card{
          background:var(--card-bg);
          border-radius:16px;
          overflow:hidden;
          display:flex;flex-direction:column;
          border:2px solid var(--wood);
          box-shadow: 0 8px 25px var(--shadow);
          transition: all 0.3s ease;
          position:relative;
        }
        .casino-card:hover{ transform: translateY(-8px); box-shadow:0 20px 40px rgba(212,175,55,0.3); border-color: #ffd700; }
        .casino-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--wood),var(--accent));}

        .casino-card img{
          width:100%;
          height:140px;
          object-fit:cover;
          background:#333;
          transition:transform 0.3s ease;
        }
        .casino-card:hover img{transform:scale(1.05);}
        .casino-info{padding:20px;display:flex;flex-direction:column;gap:12px;flex:1}
        .casino-info h3{margin:0;color:var(--wood);font-size:20px;font-weight:700;}
        .casino-info p{margin:0;color:#c0c0c0;font-size:14px;line-height:1.5;min-height:42px;}

        /* купон */
        .promo{ 
          background:var(--coupon); 
          border-radius:12px; 
          padding:12px 16px; 
          text-align:center; 
          cursor:pointer; 
          border:2px dashed var(--wood); 
          font-weight:800; 
          font-family:monospace; 
          color:var(--wood);
          font-size:16px;
          transition: all 0.3s ease;
          position:relative;
          overflow:hidden;
        }
        .promo:hover{ background: #444; border-style: solid; transform:scale(1.02);}
        .promo.copied{ 
          background: var(--success-green); 
          color:white; 
          border-style:solid; 
          border-color: var(--success-green);
          animation:pulse 0.5s ease;
        }
        @keyframes pulse{0%{transform:scale(1);}50%{transform:scale(1.05);}100%{transform:scale(1);}}

        /* кнопка в игру */
        .play-button{
          margin:15px; padding:14px 20px; border-radius:12px; border:none; cursor:pointer; font-weight:800;font-size:16px;
          background: linear-gradient(135deg,var(--wood), var(--accent)); color:#1a1a1a;
          box-shadow: 0 8px 20px rgba(0,0,0,0.4);
          transition: all 0.3s ease;
          position:relative;
          overflow:hidden;
        }
        .play-button::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transition:left 0.5s;}
        .play-button:hover::before{left:100%;}
        .play-button:hover{ background: linear-gradient(135deg,#ffd700, #d4af37); transform: translateY(-3px) scale(1.05); box-shadow:0 12px 25px rgba(212,175,55,0.4); }

        /* scam special */
        .casino-card.scam .play-button{ background: linear-gradient(135deg,#c85b5b,#e07a7a); color:white }
        .casino-card.scam .play-button:hover{ background: linear-gradient(135deg,#e07a7a,#ff8a8a); }

        /* SCAM fall animation */
        @keyframes scamFall {
          0% { transform: rotate(0) translateY(0); opacity:1 }
          60% { transform: rotate(15deg) translateY(100px); opacity:0.8 }
          100% { transform: rotate(45deg) translateY(1000px); opacity:0 }
        }
        .casino-card.fall{ animation: scamFall 1.2s ease forwards }

        /* modal bybit */
        #bybit-instruction { 
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0,0,0,0.9);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 10000;
          backdrop-filter: blur(5px);
        }
        #bybit-instruction.hidden { display: none; }
        #bybit-instruction .modal{ 
          max-width:500px; 
          width:90%;
          padding:40px 30px;
          border-radius:20px; 
          background:linear-gradient(145deg,#2a2a2a,#1f1f1f); 
          border:3px solid var(--wood);
          position: relative;
          box-shadow: 0 0 50px rgba(212,175,55,0.5);
          animation: modalAppear 0.3s ease;
        }
        @keyframes modalAppear{
          from{opacity:0;transform:scale(0.9);}
          to{opacity:1;transform:scale(1);}
        }
        .close-btn{ 
          position:absolute; 
          right:20px; 
          top:20px; 
          background:transparent; 
          border:none; 
          font-size:28px; 
          cursor:pointer;
          color: var(--wood);
          width: 35px;
          height: 35px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }
        .close-btn:hover{ background: #333; transform:rotate(90deg); }

        /* donate */
        .donate-button{ 
          display:inline-block; 
          padding:14px 28px; 
          border-radius:12px; 
          background:linear-gradient(135deg,var(--wood),var(--accent));
          color:#1a1a1a;
          text-decoration:none;
          font-weight:800;
          border: none;
          cursor: pointer;
          font-size:16px;
          transition: all 0.3s ease;
          box-shadow:0 8px 20px rgba(0,0,0,0.3);
          text-align: center;
        }
        .donate-button:hover{ background:linear-gradient(135deg,#ffd700,#d4af37); transform: translateY(-3px) scale(1.05); box-shadow:0 12px 25px rgba(212,175,55,0.4); }

        /* Кнопка открытия модалки */
        .open-modal-btn {
          background: linear-gradient(135deg,var(--accent),var(--wood));
          color: #1a1a1a;
          border: none;
          padding: 14px 28px;
          border-radius: 12px;
          cursor: pointer;
          font-weight: 800;
          transition: all 0.3s ease;
          font-size:16px;
          box-shadow:0 8px 20px rgba(0,0,0,0.3);
        }
        .open-modal-btn:hover {
          background: linear-gradient(135deg,var(--wood),#ffd700);
          transform: translateY(-3px) scale(1.05);
          box-shadow:0 12px 25px rgba(212,175,55,0.4);
        }

        /* Денежный дождь */
        .money {
          width: 100%;
          height: 1200px;
          position: fixed;
          top: -200px;
          left: 0;
          pointer-events: none;
          z-index: 1;
          overflow: hidden;
        }

        .money i {
          display: inline-block;
          animation: money 3s linear 2s 20;
          position: relative;
          background-image: url('data:image/svg+xml,%3Csvg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"%3E%3Cg%3E%3Cg%3E%3Cpath style="fill:%2374D24F;" d="M496,112H16c-8.82,0-16,7.18-16,16v256c0,8.82,7.18,16,16,16h480c8.82,0,16-7.18,16-16V128 C512,119.18,504.82,112,496,112z"/%3E%3C/g%3E%3Cg%3E%3Cpath style="fill:%23FFEFBC;" d="M472,192c-22.055,0-40-17.945-40-40c0-4.422-3.578-8-8-8H88c-4.422,0-8,3.578-8,8 c0,22.055-17.945,40-40,40c-4.422,0-8,3.578-8,8v112c0,4.422,3.578,8,8,8c22.055,0,40,17.945,40,40c0,4.422,3.578,8,8,8h336 c4.422,0,8-3.578,8-8c0-22.055,17.945-40,40-40c4.422,0,8-3.578,8-8V200C480,195.578,476.422,192,472,192z"/%3E%3C/g%3E%3Cg%3E%3Cpath style="fill:%23869B55;" d="M128,256c0,48.221,26.691,90.175,66.081,112h123.839C357.309,346.175,384,304.221,384,256 s-26.691-90.175-66.081-112H194.08C154.691,165.825,128,207.779,128,256z"/%3E%3C/g%3E%3Cg%3E%3Cpath style="fill:%23FFEFBC;" d="M256,244c-16.023,0-28-8.445-28-16c0-7.555,11.977-16,28-16s28,8.445,28,16c0,6.625,5.375,12,12,12 s12-5.375,12-12c0-19.236-16.824-34.862-40-38.932V184c0-6.625-5.375-12-12-12s-12,5.375-12,12v5.068 c-23.176,4.07-40,19.695-40,38.932c0,22.43,22.844,40,52,40c16.023,0,28,8.445,28,16c0,7.555-11.977,16-28,16s-28-8.445-28-16 c0-6.625-5.375-12-12-12s-12,5.375-12,12c0,19.236,16.824,34.862,40,38.932V328c0,6.625,5.375,12,12,12s12-5.375,12-12v-5.068 c23.176-4.07,40-19.695,40-38.932C308,261.57,285.156,244,256,244z"/%3E%3C/g%3E%3Cg%3E%3Ccircle style="fill:%2374D24F;" cx="80" cy="256" r="24"/%3E%3C/g%3E%3Cg%3E%3Ccircle style="fill:%2374D24F;" cx="432" cy="256" r="24"/%3E%3C/g%3E%3Cg%3E%3Ccircle style="fill:%23869B55;" cx="40" cy="152" r="16"/%3E%3C/g%3E%3Cg%3E%3Ccircle style="fill:%23869B55;" cx="472" cy="152" r="16"/%3E%3C/g%3E%3Cg%3E%3Ccircle style="fill:%23869B55;" cx="40" cy="360" r="16"/%3E%3C/g%3E%3Cg%3E%3Ccircle style="fill:%23869B55;" cx="472" cy="360" r="16"/%3E%3C/g%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3C/svg%3E%0A');
          background-size: contain;
          background-repeat: no-repeat;
          opacity: 0;
          animation: fadeInMoney 3s ease 3s forwards, money 3s linear 2s 20;
        }

        @keyframes money {
          0% {
            transform: translate3d(0, 0, 0) rotate(0deg) scale(0.6);
          }
          100% {
            transform: translate3d(15px, 1200px, 0px) rotate(360deg) scale(0.6);
          }
        }
        
        @keyframes fadeInMoney {
          0% {
            opacity: 0;
          }
          100% {
            opacity: 1;
          }
        }

        .money i:nth-child(3n) {
          width: 40px;
          height: 40px;
          animation-duration: 4s;
          animation-iteration-count: 30;
          transform-origin: right -45px;
        }

        .money i:nth-child(3n + 1) {
          width: 50px;
          height: 50px;
          animation-duration: 6s;
          animation-iteration-count: 45;
          transform-origin: right -30px;
        }

        .money i:nth-child(3n + 2) {
          width: 65px;
          height: 65px;
          animation-duration: 8s;
          animation-iteration-count: 60;
          transform-origin: right -15px;
        }

        /* different delays so they don't all start at the same time */
        .money i:nth-child(7n) {
          opacity: 0;
          animation-delay: 0s;
          animation-timing-function: ease-in;
        }
        .money i:nth-child(7n + 1) {
          opacity: 0;
          animation-delay: 1s;
          animation-timing-function: ease-out;
        }
        .money i:nth-child(7n + 2) {
          opacity: 0;
          animation-delay: 1.5s;
          animation-timing-function: linear;
        }
        .money i:nth-child(7n + 3) {
          opacity: 0;
          animation-delay: 2s;
          animation-timing-function: ease-in;
        }
        .money i:nth-child(7n + 4) {
          opacity: 0;
          animation-delay: 2.5s;
          animation-timing-function: linear;
        }
        .money i:nth-child(7n + 5) {
          opacity: 0;
          animation-delay: 3s;
          animation-timing-function: ease-out;
        }
        .money i:nth-child(7n + 6) {
          opacity: 0;
          animation-delay: 3.5s;
          animation-timing-function: ease-in;
        }

        /* footer */
        footer{ 
          margin-top: auto;
          padding: 40px 20px;
          text-align:center;
          color:var(--muted);
          border-top:2px solid var(--wood);
          background:linear-gradient(180deg,transparent,rgba(212,175,55,0.1));
          width: 100%;
          position: relative;
          z-index: 3;
        }
        .footer-content {
          max-width: var(--maxw);
          margin: 0 auto;
        }
        .footer-text{
          max-width:600px;
          margin:0 auto;
          line-height:1.6;
          font-size:14px;
        }

        /* Кнопка "Наверх" */
        #scrollToTop {
          position: fixed;
          bottom: 30px;
          right: 30px;
          width: 50px;
          height: 50px;
          background: var(--wood);
          color: #1a1a1a;
          border: none;
          border-radius: 50%;
          cursor: pointer;
          display: none;
          justify-content: center;
          align-items: center;
          font-size: 24px;
          box-shadow: 0 4px 15px rgba(0,0,0,0.3);
          z-index: 100;
          transition: all 0.3s ease;
        }
        
        #scrollToTop:hover {
          background: #ffd700;
          transform: translateY(-3px);
          box-shadow: 0 6px 20px rgba(212,175,55,0.4);
        }

        /* responsive */
        @media (max-width:1024px){
          .casino-grid{grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));}
        }

        @media (max-width:768px){
          .casino-grid{grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));gap:20px;}
          header h1{font-size:32px;}
          #search-section{padding:0 15px;}
          .casino-info{padding:15px;}
          #action-buttons{flex-direction:column;gap:15px;}
          #scrollToTop {
            bottom: 20px;
            right: 20px;
            width: 45px;
            height: 45px;
            font-size: 20px;
          }
        }

        @media (max-width:480px){
          .container{padding:20px 15px;}
          .casino-grid{grid-template-columns:1fr;gap:15px;}
          header h1{font-size:28px;}
          #searchInput{padding:10px 15px;font-size:14px;}
          .cat-btn{padding:8px 15px;font-size:13px;}
          #scrollToTop {
            bottom: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            font-size: 18px;
          }
        }
    </style>
</head>
<body>
    <!-- Лоадер -->
    <div id="loader">
        <div class="loader-content">
            <div class="loader-spinner"></div>
            <div class="loader-text">Загрузка...</div>
        </div>
    </div>

    <!-- Денежный дождь -->
    <div class="money"><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i></div>

    <div class="container" role="main">
        <header>
            <h1>Жека Твинк</h1>
            <div class="subtitle">Только проверенные!</div>
        </header>

        <!-- Кнопки действий -->
        <section id="action-buttons">
            <button class="open-modal-btn" id="openBybit">🎰 Инструкция BYBIT</button>
            <a class="donate-button" href="https://donatepay.ru/don/435213" target="_blank" rel="noopener noreferrer">
                💝 Поддержать меня
            </a>
        </section>

        <section id="search-section">
            <input id="searchInput" type="text" placeholder="🔍 Быстрый поиск..." />
            <div id="categoryButtons" aria-label="Категории казино"></div>
        </section>

        <section id="casino-list" class="casino-grid" aria-live="polite"></section>
    </div>

    <!-- Кнопка "Наверх" -->
    <button id="scrollToTop" aria-label="Наверх">↑</button>

    <!-- Модальное окно Bybit -->
    <section id="bybit-instruction" class="hidden" aria-hidden="true">
        <div class="modal">
            <button id="closeBybit" class="close-btn" title="Закрыть" aria-label="Закрыть окно">×</button>
            <h3 style="color: var(--wood); margin-bottom: 25px; text-align: center;">🎯 Инструкция BYBIT</h3>
            <p style="color: var(--muted); margin: 20px 0; font-size: 16px; line-height: 1.6;">
                💸 Зарегистрируйте аккаунт на Bybit!
            </p>
            <div style="background: #333; padding: 15px; border-radius: 10px; margin: 20px 0; text-align: center;">
                <p style="color: var(--muted); margin: 0 0 10px 0; font-size: 14px;">Промокод:</p>
                <p style="color: var(--wood); font-size: 24px; font-weight: 800; margin: 0; letter-spacing: 2px;">WAAARLM</p>
            </div>
            <div style="margin-top: 25px; padding: 15px; background: #333; border-radius: 10px; border-left: 4px solid var(--wood);">
                <p style="color: var(--muted); margin: 0; font-size: 14px; line-height: 1.5;">
                   пук
                </p>
            </div>
        </div>
    </section>
    
    <footer>
        <p class="footer-text">
            ⚠️ Не играйте, одумайтесь, остановитесь! Но если я вас не убедил — хотя бы подскажу проверенные места. 
            Азартные игры могут вызывать зависимость. Играйте ответственно.
        </p>
    </footer>
    
    <script>
        // ================ Данные казино ================
        const CASINOS = [
            {
                "name": "Вавада", 
                "desc": "+300% к депозиту. +150 спинов", 
                "promo": "JekaTvin", 
                "categories": ["Топ", "Крипто"], 
                "img": "https://арчизнал.рф/img/vavada.jpg", 
                "url": "https://example.com/vavada" // Замените на реальную реф ссылку
            },
            {
                "name": "Стейк", 
                "desc": "+300% к депозиту. +150 спинов", 
                "promo": "JekaTvin", 
                "categories": ["Топ", "Крипто"], 
                "img": "https://jekatvink.vercel.app/img/stake.png", 
                "url": "https://example.com/stake" // Замените на реальную реф ссылку
            },
            {
                "name": "Водка", 
                "desc": "+300% к депозиту. +150 спинов", 
                "promo": "JekaTvin", 
                "categories": ["Новые"], 
                "img": "https://арчизнал.рф/img/vodka.jpg", 
                "url": "https://example.com/vodka" // Замените на реальную реф ссылку
            },
            {
                "name": "Буй", 
                "desc": "+300% к депозиту. +150 спинов", 
                "promo": "JekaTvin", 
                "categories": ["Топ"], 
                "img": "https://арчизнал.рф/img/booi.jpg", 
                "url": "https://example.com/booi" // Замените на реальную реф ссылку
            },
            {
                "name": "ПлейФортуна", 
                "desc": "+300% к депозиту. +150 спинов", 
                "promo": "JekaTvin", 
                "categories": ["Новые"], 
                "img": "https://арчизнал.рф/img/playfortuna.jpg", 
                "url": "https://example.com/playfortuna" // Замените на реальную реф ссылку
            },
            {
                "name": "ДжойКазино", 
                "desc": "+300% к депозиту. +150 спинов", 
                "promo": "JekaTvin", 
                "categories": ["Топ"], 
                "img": "https://jekatvink.vercel.app/img/joycasino.jpg", 
                "url": "https://example.com/joycasino" // Замените на реальную реф ссылку
            },
            {
                "name": "СКАМ", 
                "desc": "Никакого скама! Только проверенные мемы!", 
                "promo": "", 
                "categories": [], 
                "img": "https://jekatvink.vercel.app/img/scam.jpg", 
                "url": "#", 
                "fake": true
            }
        ];

        // ================ DOM refs ================
        const casinoList = document.getElementById('casino-list');
        const searchInput = document.getElementById('searchInput');
        const categoryButtons = document.getElementById('categoryButtons');
        const bybitModal = document.getElementById('bybit-instruction');
        const openBybitBtn = document.getElementById('openBybit');
        const closeBybitBtn = document.getElementById('closeBybit');
        const scrollToTopBtn = document.getElementById('scrollToTop');
        const loader = document.getElementById('loader');

        // ================== Render casinos ==================
        function buildCategories() {
            const cats = new Set();
            CASINOS.forEach(c => (c.categories||[]).forEach(cat => cats.add(cat)));
            categoryButtons.innerHTML = '';
            
            const allBtn = document.createElement('button'); 
            allBtn.className = 'cat-btn active'; 
            allBtn.textContent = 'Все'; 
            allBtn.dataset.cat = 'all'; 
            categoryButtons.appendChild(allBtn);
            
            // Категории "Топ", "Новые" и "Крипто"
            ['Топ', 'Новые', 'Крипто'].forEach(cat => {
                if (cats.has(cat)) {
                    const b = document.createElement('button'); 
                    b.className = 'cat-btn'; 
                    b.textContent = cat; 
                    b.dataset.cat = cat; 
                    categoryButtons.appendChild(b);
                }
            });
            
            categoryButtons.addEventListener('click', e => {
                const btn = e.target.closest('button'); 
                if (!btn) return;
                categoryButtons.querySelectorAll('button').forEach(x => x.classList.remove('active'));
                btn.classList.add('active');
                applyFilters();
            });
        }

        function createCard(c) {
            const card = document.createElement('div'); 
            card.className = 'casino-card';
            if (c.fake) card.classList.add('scam');
            card.dataset.categories = (c.categories||[]).join(' ');
            
            card.innerHTML = `
                <img src="${c.img}" alt="${c.name}" loading="lazy">
                <div class="casino-info">
                    <h3>${c.name}</h3>
                    <p>${c.desc}</p>
                    ${c.promo ? `<div class="promo" data-code="${c.promo}">${c.promo}</div>` : `<div style="height:46px"></div>`}
                    <button class="play-button">${c.name === 'СКАМ' || c.fake ? 'в игру' : 'в игру'}</button>
                </div>
            `;
            
            // Обработчики событий
            const promoEl = card.querySelector('.promo');
            if (promoEl) {
                promoEl.addEventListener('click', async (ev) => {
                    const code = promoEl.dataset.code || promoEl.textContent;
                    try { 
                        await navigator.clipboard.writeText(code); 
                        promoEl.classList.add('copied'); 
                        promoEl.textContent = 'Скопировано!'; 
                        setTimeout(() => { 
                            promoEl.classList.remove('copied'); 
                            promoEl.textContent = code; 
                        }, 1500); 
                    } catch(e) {
                        // Fallback для старых браузеров
                        const textArea = document.createElement('textarea');
                        textArea.value = code;
                        document.body.appendChild(textArea);
                        textArea.select();
                        document.execCommand('copy');
                        document.body.removeChild(textArea);
                        promoEl.classList.add('copied'); 
                        promoEl.textContent = 'Скопировано!'; 
                        setTimeout(() => { 
                            promoEl.classList.remove('copied'); 
                            promoEl.textContent = code; 
                        }, 1500);
                    }
                    ev.stopPropagation();
                });
            }
            
            const btn = card.querySelector('.play-button');
            if (c.fake || c.name.toLowerCase().includes('скам')) {
                btn.addEventListener('click', () => {
                    card.classList.add('fall');
                    setTimeout(() => card.remove(), 1200);
                });
            } else {
                btn.addEventListener('click', async () => {
                    // Сначала копируем промокод если есть
                    if (c.promo) { 
                        try { 
                            await navigator.clipboard.writeText(c.promo);
                        } catch(e) {
                            const textArea = document.createElement('textarea');
                            textArea.value = c.promo;
                            document.body.appendChild(textArea);
                            textArea.select();
                            document.execCommand('copy');
                            document.body.removeChild(textArea);
                        } 
                    }
                    
                    // Затем переходим по ссылке
                    if (c.url && c.url !== '#' && !c.url.includes('example.com')) {
                        window.open(c.url, '_blank', 'noopener,noreferrer');
                    }
                });
            }
            return card;
        }

        function renderCasinos(list = CASINOS) {
            casinoList.innerHTML = '';
            list.forEach(c => casinoList.appendChild(createCard(c)));
        }

        // ================ Filters & Search ================
        function variantsOf(q) {
            q = (q||'').toLowerCase();
            if (!q) return [''];
            const map = {
                'й':'q','ц':'w','у':'e','к':'r','е':'t','н':'y','г':'u','ш':'i','щ':'o','з':'p',
                'х':'[','ъ':']','ф':'a','ы':'s','в':'d','а':'f','п':'g','р':'h','о':'j','л':'k',
                'д':'l','ж':';','э':"'",'я':'z','ч':'x','с':'c','м':'v','и':'b','т':'n','ь':'m',
                'б':',','ю':'.'
            };
            const enToRu = Object.fromEntries(Object.entries(map).map(([k,v]) => [v,k]));
            const ruEn = q.split('').map(c => map[c] || c).join('');
            const enRu = q.split('').map(c => enToRu[c] || c).join('');
            return [q, ruEn, enRu];
        }

        function applyFilters() {
            const activeBtn = categoryButtons.querySelector('.active');
            const cat = activeBtn ? activeBtn.dataset.cat : 'all';
            const q = searchInput.value.trim().toLowerCase();
            const vars = variantsOf(q);
            
            Array.from(casinoList.children).forEach(card => {
                const title = (card.querySelector('h3') || {}).textContent.toLowerCase();
                const desc = (card.querySelector('p') || {}).textContent.toLowerCase();
                const promo = (card.querySelector('.promo') || {}).dataset.code || '';
                const hay = (title + ' ' + desc + ' ' + promo).toLowerCase();
                const matchQ = !q || vars.some(v => v && hay.includes(v));
                const cats = (card.dataset.categories || '').toLowerCase().split(/\s+/);
                const matchCat = (cat === 'all') || cats.includes(cat.toLowerCase());
                card.style.display = (matchQ && matchCat) ? 'block' : 'none';
            });
        }

        // ================ Modal Management ================
        function openBybitModal() {
            bybitModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeBybitModal() {
            bybitModal.classList.add('hidden');
            document.body.style.overflow = '';
        }

        // ================ Кнопка "Наверх" ================
        function toggleScrollToTop() {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.style.display = 'flex';
            } else {
                scrollToTopBtn.style.display = 'none';
            }
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // ================ Event Listeners ================
        searchInput.addEventListener('input', applyFilters);
        openBybitBtn.addEventListener('click', openBybitModal);
        closeBybitBtn.addEventListener('click', closeBybitModal);
        scrollToTopBtn.addEventListener('click', scrollToTop);
        window.addEventListener('scroll', toggleScrollToTop);

        // Закрытие модалки по клику вне её области
        bybitModal.addEventListener('click', (e) => {
            if (e.target === bybitModal) {
                closeBybitModal();
            }
        });

        // Закрытие модалки по ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !bybitModal.classList.contains('hidden')) {
                closeBybitModal();
            }
        });

        // ================ Init ================
        function init() {
            buildCategories();
            renderCasinos();
            
            // Скрываем лоадер после загрузки
            setTimeout(() => {
                document.body.classList.add('loaded');
                setTimeout(() => {
                    loader.style.display = 'none';
                }, 500);
            }, 1500);
            
            // Фокус на поиск
            setTimeout(() => { 
                try { 
                    searchInput.focus(); 
                } catch(e) {} 
            }, 100);
        }

        // Запуск при загрузке DOM
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>
</html>
